{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/spin.js/spin.js","webpack:///./static/src/tools.coffee"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__assign","assign","arguments","length","defaults","lines","width","radius","scale","corners","color","fadeColor","animation","rotate","direction","speed","zIndex","className","top","left","shadow","position","Spinner","opts","this","spin","target","stop","el","document","createElement","setAttribute","css","transform","insertBefore","firstChild","borderRadius","Math","round","shadows","boxShadow","regex","_i","_a","split","matches","match","x","y","xUnits","yUnits","push","prefix","end","parseBoxShadow","degrees","backgroundLine","height","background","getColor","transformOrigin","delay","line","normalizeShadow","appendChild","drawLines","requestAnimationFrame","cancelAnimationFrame","animateId","clearTimeout","parentNode","removeChild","undefined","props","prop","style","idx","normalized","shadows_1","xy","convertOffset","join","radians","PI","sin","cos","getAzimuth","getHash","queryMatch","setHash","strToLatLng","indexOf","$","bounds","hash","latlng","los","map","markerpos","myOptions","poimarker","poipos","povmarker","povpos","google","loader","ClientLocation","maps","LatLng","latitude","longitude","visualRefresh","zoom","center","mapTypeId","MapTypeId","ROADMAP","Map","getElementById","Marker","icon","draggable","visible","Polyline","path","getPosition","strokeColor","strokeOpacity","strokeWeight","setMap","event","addListener","getVisible","setPosition","latLng","setVisible","setOptions","show","removeClass","addClass","each","marker","setPath","az","text","html","click","hide","window","location","keys","pov","poi","LatLngBounds","extend","fitBounds","navigator","geolocation","getCurrentPosition","coords","panTo","dLon","poiLat","povLat","lat","toRad","lng","atan2","toBrng","toUrlValue","vars","replace","str","coord","povlat","spinner","trail","hwaccel","_gaq","ajax","type","url","data","dataType","success","reply","day","daylist","j","len","ref","append","suntype","error","complete","Number","toDeg","decimals","pow"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar defaults = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign({}, defaults, opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\nexport { Spinner };\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\r\n","import {Spinner} from 'spin.js'\n\n$ ->\n\t# Create map\n\t# If geolocated, set current position as center\n\tif google.loader.ClientLocation\n\t\tlatlng = new google.maps.LatLng google.loader.ClientLocation.latitude, google.loader.ClientLocation.longitude\n\telse\t# Else center in Tokyo\n\t\tlatlng = new google.maps.LatLng(35.41, 139.44)\n\n\t# Enable the visual refresh\n\tgoogle.maps.visualRefresh = true\n\n\tmyOptions =\n\t\tzoom: 9\n\t\tcenter: latlng\n\t\tmapTypeId: google.maps.MapTypeId.ROADMAP\n\n\tmap = new google.maps.Map document.getElementById(\"map_canvas\"), myOptions\n\n\t# Default marker position\n\tmarkerpos = new google.maps.LatLng 1, 1\n\n\t# Initialize POV and POI Markers as well as LOS Polyline\n\tpovmarker = new google.maps.Marker(\n\t\tposition: markerpos\n\t\tmap: map\n\t\ticon: '/static/img/man.png'\n\t\tdraggable: true\n\t\tvisible: false\n\t)\n\n\tpoimarker = new google.maps.Marker(\n\t\tposition: markerpos\n\t\tmap: map\n\t\tdraggable: true\n\t\tvisible: false\n\t)\n\n\tlos = new google.maps.Polyline(\n\t\tpath: [\n\t\t\tpovmarker.getPosition()\n\t\t\tpoimarker.getPosition()\n\t\t]\n\t\tstrokeColor: \"#FF0000\"\n\t\tstrokeOpacity: 0\n\t\tstrokeWeight: 6\n\t)\n\n\tlos.setMap map\n\n\t# Click on the map event - works only 2 first times\n\tgoogle.maps.event.addListener map, 'click', (event) =>\n\t\t# First click, show POV marker\n\t\tif not povmarker.getVisible()\n\t\t\tpovmarker.setPosition event.latLng\n\t\t\tpovmarker.setVisible true\n\t\t\t#queryEphemerides povmarker\n\t\t\t$(\"#step1\").removeClass(\"active\", 500)\n\t\t\t$(\"#step2\").addClass(\"active\", 500)\n\t\t# Second click, show POI marker\n\t\telse if not poimarker.getVisible()\n\t\t\tpoimarker.setPosition event.latLng\n\t\t\tpoimarker.setVisible true\n\t\t\tlos.setOptions {strokeOpacity: 0.6}\n\t\t\t$(\"#azimuth\").show()\n\t\t\tqueryMatch povmarker, poimarker\n\t\t\t$(\"#step2\").removeClass(\"active\", 500)\n\t\t\t$(\"#step3\").addClass(\"active\", 500)\n\n\t# Move markers event\n\t$([povmarker, poimarker]).each (i,marker) =>\n\t\tgoogle.maps.event.addListener marker, 'position_changed', () =>\n\t\t\tlos.setPath [povmarker.getPosition(), poimarker.getPosition()]\n\t\t\tdocument.az = getAzimuth povmarker.getPosition(), poimarker.getPosition()\n\t\t\t$(\"#azimuth\").text document.az.round(2)+\"º\"\n\t\t\t# Clear results\n\t\t\t$(\"#results\").html(\"\")\n\n\t# Query for a match on drop\n\t$([povmarker, poimarker]).each (i,marker) =>\n\t\tgoogle.maps.event.addListener marker, 'dragend', () =>\n\t\t\t#queryEphemerides(povmarker)\n\t\t\tqueryMatch povmarker, poimarker\n\n\t# Reset button action\n\t$(\"#reset\").click () ->\n\t\tpovmarker.setOptions {position: markerpos, visible: false}\n\t\tpoimarker.setOptions {position: markerpos, visible: false}\n\t\tlos.setOptions {strokeOpacity: 0}\n\t\t$(\"#step1\").addClass(\"active\", 500)\n\t\t$(\"#step2\").removeClass(\"active\", 500)\n\t\t$(\"#step3\").removeClass(\"active\", 500)\n\t\t$(\"#azimuth\").hide()\n\t\t$(\"#results\").html(\"\")\n\t\twindow.location.hash = \"\"\n\n\t# Setup map if vars passed in URL hash\n\thash = getHash()\n\tif \"pov\" in Object.keys(hash) and \"poi\" in Object.keys(hash)\n\t\t# Parse locations from URL\n\t\tpovpos = strToLatLng hash.pov\n\t\tpoipos = strToLatLng hash.poi\n\t\t# Move markers to locations\n\t\tpovmarker.setPosition povpos\n\t\tpoimarker.setPosition poipos\n\t\t# Make elements visible\n\t\tpovmarker.setVisible true\n\t\tpoimarker.setVisible true\n\t\tlos.setOptions {strokeOpacity: 0.6}\n\t\t# Zoom map to fit both markers\n\t\tbounds = new google.maps.LatLngBounds()\n\t\tbounds.extend povpos\n\t\tbounds.extend poipos\n\t\t#map.panTo bounds.getCenter()\n\t\tmap.fitBounds bounds\n\t\t# Increment instruction steps\n\t\t$(\"#step1\").removeClass(\"active\", 500)\n\t\t$(\"#step3\").addClass(\"active\", 500)\n\t\t$(\"#azimuth\").show()\n\t\t# Finally call the backend\n\t\tqueryMatch povmarker, poimarker\n\telse\n\t\t# Try HTML5 geolocation\n\t\t# Do it only if no location in URL as asynchronous geoloc messes with fitBounds\n\t\tif navigator.geolocation\n\t\t\tnavigator.geolocation.getCurrentPosition (position) =>\n\t\t\t\tlatlng = new google.maps.LatLng position.coords.latitude, position.coords.longitude\n\t\t\t\tmap.panTo latlng\n\n\ngetAzimuth = (pov, poi) ->\n\tpovLat = pov.lat().toRad()\n\tpoiLat = poi.lat().toRad()\n\tdLon = (poi.lng() - pov.lng()).toRad()\n\ty = Math.sin(dLon) * Math.cos(poiLat)\n\tx = Math.cos(povLat) * Math.sin(poiLat) - Math.sin(povLat) * Math.cos(poiLat) * Math.cos(dLon)\n\treturn Math.atan2(y, x).toBrng()\n\n# Sets the marker positions in the URL\nsetHash = (pov, poi) ->\n\tpovpos = pov.getPosition().toUrlValue()\n\tpoipos = poi.getPosition().toUrlValue()\n\twindow.location.hash = \"pov=#{povpos}&poi=#{poipos}\"\n\n# Decode parameters from hash\n# shamelessly stolen from http://papermashup.com/read-url-get-variables-withjavascript/\ngetHash = () ->\n\tvars = {}\n\twindow.location.hash.replace /[#&]+([^=&]+)=([^&]*)/gi, (m, key, value) =>\n\t\tvars[key] = value\n\treturn vars\n\n# Make a Google Maps LatLng object from a string\nstrToLatLng = (str) ->\n\tcoord = str.split(\",\")\n\tnew google.maps.LatLng coord[0], coord[1]\n\n# NOT USED\nqueryEphemerides = (pov) ->\n\tpovlat = pov.getPosition().lat().round(1)\n\t$.ajax(\n\t\ttype: \"POST\"\n\t\turl: \"/GetEphemerides\"\n\t\tdata: {lat: povlat}\n\t\tdataType: \"json\"\n\t\tsuccess: (reply) =>\n\t\t\tdocument.ephemerides = reply\n\t)\n\nqueryMatch = (pov, poi) ->\n\t# Set the spinner\n\tdocument.spinner = new Spinner(\n\t\tlines: 13 # The number of lines to draw\n\t\tlength: 7 # The length of each line\n\t\twidth: 4 # The line thickness\n\t\tradius: 10 # The radius of the inner circle\n\t\trotate: 0 # The rotation offset\n\t\tcolor: '#333' # #rgb or #rrggbb\n\t\tspeed: 1 # Rounds per second\n\t\ttrail: 60 # Afterglow percentage\n\t\tshadow: false # Whether to render a shadow\n\t\thwaccel: true # Whether to use hardware acceleration\n\t\tclassName: 'spinner' # The CSS class to assign to the spinner\n\t\tzIndex: 2e9 # The z-index (defaults to 2000000000)\n\t\ttop: '50%' # Top position relative to parent in px\n\t\tleft: '50%' # Left position relative to parent in px\n\t).spin($(\"#results\")[0])\n\n\t# Log a request to Google Analytics\n\t_gaq.push ['_trackEvent', 'Interaction', 'Request']\n\n\tpovlat = pov.getPosition().lat().round(1)\n\t$.ajax(\n\t\ttype: \"POST\"\n\t\turl: \"/findMatch\"\n\t\tdata: {lat: povlat, az: document.az}\n\t\tdataType: \"json\"\n\t\tsuccess: (reply) =>\n\t\t\tif reply.matches?\n\t\t\t\t# Create HTML for the result days list\n\t\t\t\tdaylist = $(\"<ul>\").addClass(\"matches\")\n\t\t\t\tdaylist.append($(\"<li>\").text(day)) for day in reply.matches\n\t\t\t\t# Write the type (sunrise or sunset) and results to the screen\n\t\t\t\t$(\"#results\").text(\"#{reply.suntype} on:\").append(daylist)\n\t\t\t\t# Log the result to Google Analytics\n\t\t\t\t_gaq.push ['_trackEvent', 'Interaction', 'Success', reply.suntype]\n\t\t\telse\n\t\t\t\t$(\"#results\").text(\"Sorry, there is no #{reply.suntype} in this direction.\")\n\t\t\t\t# Log the result to Google Analytics\n\t\t\t\t_gaq.push ['_trackEvent', 'Interaction', 'Success', 'Out of Bounds']\n\t\terror: () =>\n\t\t\t$(\"#results\").text(\"ERROR in the Request.\")\n\t\t\t# Log the error to Google Analytics\n\t\t\t_gaq.push ['_trackEvent', 'Interaction', 'Error']\n\t\tcomplete: () =>\n\t\t\tdocument.spinner.stop()\n\t\t\tsetHash pov, poi\n\t)\n\n# extend Number object with methods for converting degrees/radians\nNumber::toRad = () ->  # convert degrees to radians\n\treturn this * Math.PI / 180\n\nNumber::toDeg = () ->  # convert radians to degrees (signed)\n\treturn this * 180 / Math.PI\n\nNumber::toBrng = () ->  # convert radians to degrees (as bearing: 0...360)\n\treturn (this.toDeg()+360) % 360\n\nNumber::round = (decimals) ->\n\treturn Math.round(this * Math.pow(10, decimals)) / Math.pow(10, decimals)\n"],"sourceRoot":""}